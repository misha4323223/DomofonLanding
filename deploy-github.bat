@echo off
REM –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages (Windows)
REM –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: deploy-github.bat [–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è]

if "%1"=="" (
  echo ‚ùå –û—à–∏–±–∫–∞: –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è!
  echo –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: deploy-github.bat [–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è]
  echo –ü—Ä–∏–º–µ—Ä: deploy-github.bat my-awesome-site
  exit /b 1
)

set REPO_NAME=%1
echo üì¶ –ù–∞—á–∏–Ω–∞—é —Å–±–æ—Ä–∫—É —Å–∞–π—Ç–∞ –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: %REPO_NAME%

REM –°–æ–±–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è GitHub Pages
echo üî® –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞...
call vite build --base=/%REPO_NAME%/

if errorlevel 1 (
  echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ!
  exit /b 1
)

echo ‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

REM –ü—É–±–ª–∏–∫—É–µ–º –Ω–∞ GitHub Pages
echo üöÄ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ GitHub Pages...
call npx gh-pages -d dist/public

if errorlevel 1 (
  echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏!
  exit /b 1
)

echo ‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!
echo üåê –í–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
echo    https://–≤–∞—à-username.github.io/%REPO_NAME%/
echo.
echo üìù –ù–µ –∑–∞–±—É–¥—å—Ç–µ:
echo    1. –í–∫–ª—é—á–∏—Ç—å GitHub Pages –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo    2. –í—ã–±—Ä–∞—Ç—å –≤–µ—Ç–∫—É gh-pages –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫
