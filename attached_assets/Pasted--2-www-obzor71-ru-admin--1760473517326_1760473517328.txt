–í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ (–£–î–û–ë–ù–ï–ï) üíª

–ì–¥–µ: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞ www.obzor71.ru/admin

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

    –ö–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–≤–∏–ª –∑–∞—è–≤–∫—É
    –í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ www.obzor71.ru/admin
    –í–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
    –†—è–¥–æ–º —Å –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–æ–π 3 –∫–Ω–æ–ø–∫–∏:
        üîµ –ó–∞—è–≤–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
        üöó –ú–∞—Å—Ç–µ—Ä –≤—ã–µ—Ö–∞–ª
        ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
    –ù–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü–ª—é—Å—ã:

    ‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
    ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    ‚úÖ –ú–æ–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å –ø–∞—Ä–æ–ª–µ–º
–í–∞—Ä–∏–∞–Ω—Ç 2: –ê–¥–º–∏–Ω–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ + OneSignal API (–†–ï–ê–õ–¨–ù–û) ‚úÖ

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

    –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /admin –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏–∑ OneSignal API
    –†—è–¥–æ–º —Å –∫–∞–∂–¥—ã–º - 3 –∫–Ω–æ–ø–∫–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–µ / –≤—ã–µ—Ö–∞–ª / —Ä–µ—à–µ–Ω–∞)
    –ù–∞–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ OneSignal REST API

–í–∞–∂–Ω–æ:

    ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ç–∏–∫–µ!
    ‚úÖ –í—Å—ë –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript + OneSignal API
üîî –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è... pages_index.BcVv-3a_.js:158:195945

‚ùå Failed to enable notifications: Error: OneSignal SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –±—Ä–∞—É–∑–µ—Ä–æ–º.
x https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:158
JS https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
t_ https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
n_ https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
ip https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
op https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
Vu https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
Vc https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:40
ff https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
Vu https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
u https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
v https://www.obzor71.ru/assets/entries/pages_index.BcVv-3a_.js:37
–í–∏–∂—É –ø—Ä–æ–±–ª–µ–º—É! –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ window.OneSignalDeferred –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω ‚Üí —Å–∫—Ä–∏–ø—Ç OneSignal –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è.
üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
1. Content Security Policy (CSP)
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ index.html —Å—Ç—Ä–æ–∫–∞ —Å CSP:

copyÓßáÓ•é
<meta http-equiv="Content-Security-Policy" content="...">


–ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å https://cdn.onesignal.com –≤ script-src

2. –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã

AdBlock
uBlock Origin
Brave Shield
Firefox Enhanced Tracking Protection

–û—Ç–∫–ª—é—á–∏—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è www.obzor71.ru –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.

3. –°–∫—Ä–∏–ø—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ –±–∏–ª–¥–µ
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ —Å–æ–±—Ä–∞–Ω–Ω–æ–º index.html —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞:

copyÓßáÓ•é
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>


‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:

–û—Ç–∫—Ä–æ–π—Ç–µ https://www.obzor71.ru
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
–ù–∞–ø–∏—à–∏—Ç–µ: window.OneSignalDeferred
–°–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç - –∏ —è —Ç–æ—á–Ω–æ —Å–∫–∞–∂—É, –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞